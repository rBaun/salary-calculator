<form [formGroup]="formGroup">
	@for (field of data.fields; track $index) {
		@if (!field.group) {
			<app-form-field
				[data]="field"
				[formGroup]="formGroup"></app-form-field>
		}

		@if (field.group) {
			<fieldset [formGroupName]="field.name">
				<legend>{{ field.label }}</legend>
				@for (subField of field.group; track $index) {
					<app-form-field
						[data]="subField"
						[formGroup]="formGroup"></app-form-field>
				}
			</fieldset>
		}
	}
</form>
